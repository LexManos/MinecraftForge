--- a/net/minecraft/network/protocol/login/ServerboundCustomQueryPacket.java
+++ b/net/minecraft/network/protocol/login/ServerboundCustomQueryPacket.java
@@ -4,15 +_,21 @@
 import net.minecraft.network.FriendlyByteBuf;
 import net.minecraft.network.protocol.Packet;
 
-public class ServerboundCustomQueryPacket implements Packet<ServerLoginPacketListener> {
+public class ServerboundCustomQueryPacket implements Packet<ServerLoginPacketListener>, net.minecraftforge.network.ICustomPacket<ServerboundCustomQueryPacket> {
    private static final int f_179821_ = 1048576;
    private final int f_134825_;
    @Nullable
    private final FriendlyByteBuf f_134826_;
+   private net.minecraft.resources.ResourceLocation channel;
 
    public ServerboundCustomQueryPacket(int p_134829_, @Nullable FriendlyByteBuf p_134830_) {
+       this(p_134829_, p_134830_, null);
+   }
+
+   public ServerboundCustomQueryPacket(int p_134829_, @Nullable FriendlyByteBuf p_134830_, @Nullable net.minecraft.resources.ResourceLocation channel) {
       this.f_134825_ = p_134829_;
       this.f_134826_ = p_134830_;
+      this.channel = channel;
    }
 
    public ServerboundCustomQueryPacket(FriendlyByteBuf p_179823_) {
@@ -46,4 +_,8 @@
    public FriendlyByteBuf m_179825_() {
       return this.f_134826_;
    }
+
+   @Override public int getIndex() { return m_179824_(); }
+   @Override @Nullable public net.minecraft.resources.ResourceLocation getName() { return this.channel; }
+   @Override @Nullable public FriendlyByteBuf getInternalData() { return m_179825_(); }
 }
